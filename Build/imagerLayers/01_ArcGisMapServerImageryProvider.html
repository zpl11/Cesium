<!--
 * @Author: 赵鹏龙
 * @Date: 2022-02-14 11:07:06
 * @LastEditors: 赵鹏龙
 * @LastEditTime: 2022-02-17 16:38:17
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>加载 arcgis 为底图的文件</title>
</head>
<link rel="stylesheet" href="./Cesium/Widgets/widgets.css">
<script src="./Cesium/Cesium.js"></script>

<body>
    <div id="cesiumContainer" class="fullSize"></div>
    <div id="loadingOverlay"><h1>Loading...</h1></div>
    <div id="toolbar"></div>
</body>

<script>
    const viewer = new Cesium.Viewer("cesiumContainer");

    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwY2EwMzY1YS04NGFhLTQwZTEtOTRhZS03MDA2ZGI1M2Y3NDMiLCJpZCI6ODIwNjAsImlhdCI6MTY0NDQ4ODQzMH0.iiwiX4is006N2sichIWMwIdwe0XPcMpSmi8ug8qUvA0'
    // 将球体表面的图层删除
    viewer.imageryLayers.remove(viewer.imageryLayers.get(0))
    // 添加对应的 imagery
    // 添加 cesium 发布的服务
    // let imageryType = new Cesium.IonImageryProvider({assetId:3954})
    // ArcGisMapServerImageryProvider 添加的 arcGis 服务
    // let imageryType = new Cesium.ArcGisMapServerImageryProvider({url : url})

    // BingMapsImageryProvider 添加 天地图
    var imageryType = new Cesium.WebMapTileServiceImageryProvider({
      url:"http://t{s}.tianditu.com/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk="+'d5c0feb94ca8d9315f627efd5dcb42ce',
      
      subdomains: ['0','1','2','3','4','5','6','7'],
    //   wmts 的层名
      layer: "tdtImgLayer",
    //   wmts 的样式名称
      style: "default",
      // 要从服务器检索的 mime 类型
      format: "image/jpeg",
    //  用于WMTS请求的TileMatrixSet的标识符。
      tileMatrixSetID: "GoogleMapsCompatible",//使用谷歌的瓦片切片方式
      show: true
    });

    // 提供由ArcGIS MapServer托管的平铺图像。 默认使用地图服务器的预缓存模块
    let arcGisMapImagerLayer = new Cesium.ArcGisMapServerImageryProvider({
      url:'https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/'
    })

    // 加载 arcgis 地图
    viewer.imageryLayers.addImageryProvider(arcGisMapImagerLayer)

    // 创建一个 debuggerCoordinates
    let tileCoordinates = new Cesium.TileCoordinatesImageryProvider()
    let tileCoordinatesLayer = viewer.imageryLayers.addImageryProvider(tileCoordinates)
    viewer.imageryLayers.addImageryProvider(tileCoordinatesLayer)
    // 将对应的 layer 加载到前面
    viewer.imageryLayers.raiseToTop(tileCoordinatesLayer)
    
    
</script>

<style>
    .cesium-viewer-toolbar,             /* 右上角按钮组 */
    .cesium-viewer-animationContainer,  /* 左下角动画控件 */
    .cesium-viewer-timelineContainer,   /* 时间线 */
    .cesium-viewer-bottom               /* logo信息 */ {
      display: none !important;
    }

    .cesium-widget-credits  /* 隐藏logo图片 */ {
      display: none !important;
    }

    .cesium-viewer-fullscreenContainer  /* 全屏按钮 */ {
      display: none !important;
      position: absolute;
      top: 0;
    }
</style>

</html>